{% extends "parking/base.html" %}

{% block content %}
<h1>SignUp</h1>
<form method="post">
    {% csrf_token %}
    <div class="form-row">
        <div class="mb-3">
            <label class="form-label">Username(required)</label>
            {{ register_form.username }}
        </div>
        <span>{{ register_form.errors.username }}</span>
    </div>
    <div class="form-row">
        <div class="mb-3">
            <label class="form-label">First Name</label>
            {{ register_form.first_name }}
        </div>
        <span>{{ register_form.errors.first_name }}</span>
    </div>
    <div class="form-row">
        <div class="mb-3">
            <label class="form-label">Last Name</label>
            {{ register_form.last_name }}
        </div>
        <span>{{ register_form.errors.last_name }}</span>
    </div>
    <div class="form-row">
        <div class="mb-3">
            <label class="form-label">Email(required)</label>
            {{ register_form.email }}
        </div>
        <span>{{ register_form.errors.email }}</span>
    </div>
    <div class="form-row">
        <div class="mb-3">
            <label class="form-label">Telegram</label>
            {{ register_form.telegram_nickname }}
        </div>
        <span>{{ register_form.errors.telegram_nickname }}</span>
    </div>
    <div class="form-row">
        <div class="mb-3">
            <label class="form-label">Phone Number</label>
            {{ register_form.phone_number }}
        </div>
        <span>{{ register_form.errors.phone_number }}</span>
    </div>
    <div class="form-row">
        <div class="mb-3 form-check">
            <input type="checkbox" class="form-check-input" id="accept_oferta" name="accept_oferta">
            <label class="form-check-label" for="accept_oferta">Accept Oferta(required)</label>
            <a href="#" id="terms_link">Terms & Conditions</a>
        </div>
        <span>{{ register_form.errors.accept_oferta }}</span>
    </div>
    <!-- Модальне вікно для умов паркування -->
    <div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">
                <!-- Оставлено без изменений -->
            </div>
        </div>
    </div>
    <div class="form-row">
        <div class="mb-3">
            <label class="form-label">Password</label>
            {{ password_form.password1 }}
        </div>
        <span>{{ password_form.errors.password1 }}</span>
    </div>
    <div class="form-row">
        <div class="mb-3">
            <label class="form-label">Confirm password</label>
            {{ password_form.password2 }}
        </div>
        <span>{{ password_form.errors.password2 }}</span>
    </div>
    <button type="submit" class="btn btn-primary mb-5">Sign Up</button>
</form>
<!-- JavaScript для управління модальним вікном -->
<script>
    var modal = document.getElementById("termsModal");
    var closeBtn = document.querySelector("#termsModal .btn-close");
    var termsLink = document.getElementById("terms_link");
// Відкриття модального вікна при кліку на посилання
    termsLink.addEventListener("click", function() 
    {
        modal.classList.add("show");
        modal.style.display = "block";
    });

      // Обробник події для кнопок погодження та відмови
    var acceptBtn = document.getElementById("acceptBtn");
    var declineBtn = document.getElementById("declineBtn");

    acceptBtn.onclick = function() {
        document.getElementById("accept_oferta").checked = true;
        modal.style.display = "none";
    }

    declineBtn.onclick = function() {
        document.getElementById("accept_oferta").checked = false;
        modal.style.display = "none";
    }

    // Закриття модального вікна при кліку на хрестик
    closeBtn.addEventListener("click", function() {
        modal.classList.remove("show");
        modal.style.display = "none";
    });
</script>
{% endblock %}
